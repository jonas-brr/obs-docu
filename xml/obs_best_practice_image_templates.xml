<!DOCTYPE chapter
[
   <!ENTITY % entities SYSTEM "entity-decl.ent">
   %entities;
]>

<sect1 version="5.1" xml:id="image-templates-how-to"
 xmlns="http://docbook.org/ns/docbook"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink" >
 <title>Image Templates</title>
 &image_template_introduction_paragraph;
 <!--<xi:include href="obs_image_templates.xml"
  xpointer="image-template-introduction-paragraph"/>-->
 <para> How you can create your own image templates will be shown here. </para>
 <figure>
  <title>&obsa; Templates Page</title>
  <mediaobject>
   <imageobject>
    <imagedata fileref="image_templates_template_page.png"/>
   </imageobject>
  </mediaobject>
 </figure>
 <sect2>
  <title>Creating Own Image Templates</title>
  <para> Create a subproject of your home project. </para>
  <figure>
   <title>Form for creating image template subproject</title>
   <mediaobject>
    <imageobject>
     <imagedata fileref="image_templates_project.png"/>
    </imageobject>
   </mediaobject>
  </figure>
  <note>
   <para> Published image templates are fetched via a project's attribute. Any
    package container living in a published project will be visible on the
    image templates page. </para>
  </note>
  <para> Within that project create a new package. That will be your actual
   image template. </para>
  <figure>
   <title>New Image Template</title>
   <mediaobject>
    <imageobject>
     <imagedata fileref="image_templates_package.png"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para> Add the '&kiwi; image build' repository to your project. This repository
   is needed to build &kiwi; images in your project. Go to the 'Repositories'
   tab, click on 'Add repositories' and click on the '&kiwi; image build' check
   box. </para>
  <figure>
   <title>Enabling the &kiwi; Image Build Repository</title>
   <mediaobject>
    <imageobject>
     <imagedata fileref="image_templates_enable_image_repository.png"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para> Add sources for your image configuration. </para>
  <figure>
   <title>Overview of Sources of a Custom Image Template</title>
   <mediaobject>
    <imageobject>
     <imagedata fileref="image_templates_overview.png"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para> &kiwi; configurations usually consists of an xml configuration root
   tarball. </para>
  <!--<xi:include href="obs_image_templates.xml"
   xpointer="image-template-icon-paragraph"/>-->
  &image_template_icon_paragraph;
  <para> For a full list of image descriptions and general information about
   building images with KIWI, see the <link
    xlink:href="https://github.com/OSInside/kiwi"> &kiwi; project page</link> and
   the <link xlink:href="https://osinside.github.io/kiwi/index.html">KIWI
    cookbook</link>. <remark> Refer to new (Python) &kiwi; page instead? -
    sknorr, 2017-07-14 </remark>
  </para>
 </sect2>
 <sect2>
  <title>Publishing Image Templates on the Official Image Templates
   Page</title>
  <para> Once everything is set up and your templates are building, you might
   want to publish them. In that case contact the admin of the OBS instance you
   are using and ask them kindly to do so. If you happen to use the <link
    xlink:href="https://build.opensuse.org/">official OBS</link>, that would be
   admin@opensuse.org. </para>
 </sect2>
</sect1>
